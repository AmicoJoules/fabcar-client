<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Hyperlger Fabric Test</title>
	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
</head>
<body>

	<div id="app">
		<div class="jumbotron">
			<h1>Cars Fabric</h1>
			<p>Example of a web client working with Hyperledger Fabric</p>
			<p class="alert alert-danger" v-if="message">{{ message }}</p>
		</div>
		<div class="container">
			<table class="table">
				<thead>
					<tr>
						<th>ID</th>
						<th>Marca</th>
						<th>Modelo</th>
						<th>Color</th>
						<th>Propietario</th>
					</tr>
				</thead>
				<tbody>
					<tr v-for="car in cars">
						<td>{{ car.id }}</td>
						<td>{{ car.marca }}</td>
						<td>{{ car.modelo }}</td>
						<td>{{ car.color }}</td>
						<td>{{ car.propietario }}</td>
					</tr>
				</tbody>
			</table>
		</div>
	</div>

<script	src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.18.0/axios.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/vue@2.5.17/dist/vue.js"></script>
<script type="text/javascript">
	var app = new Vue({
	  el: '#app',
	  data: {
		cars: [],
		message: undefined
	  },
	  mounted: function(){
		  axios.get("/get_all_cars")
		  	.then((response) => {
				  this.cars = response.data;
			})
			.catch((err) => {
				this.message = err.message;
			})
	  }
	})
</script>
</body>
</html>